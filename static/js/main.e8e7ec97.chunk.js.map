{"version":3,"sources":["components/Header.js","components/Login.js","components/Register.js","images/logos/status/error.svg","images/logos/status/ok.svg","components/InfoTooltip.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Footer.js","utils/utils.js","utils/api.js","utils/auth.js","utils/constants.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","text","link","props","className","isLoggedIn","email","to","onClick","onSignOut","withRouter","onLogin","useState","setEmail","password","setPassword","React","useEffect","onSubmit","e","preventDefault","name","value","type","onChange","event","target","placeholder","required","onSignUp","InfoTooltip","isOpen","onClose","isSuccessful","message","popupClassName","children","srcStatus","success","failure","src","alt","ProtectedRoute","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","length","Main","cards","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","map","PopupWithForm","title","formName","buttonSubmitTitle","action","EditProfilePopup","onUpdateUser","setName","description","setDescription","about","id","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","avatar","ref","AddPlacePopup","onAddPlaceSubmit","setLink","ImagePopup","selectedCard","Footer","handleResponse","res","ok","json","Promise","reject","statusText","customFetch","url","headers","fetch","then","api","baseUrl","getUserInfo","token","_baseUrl","Authorization","getInitialCards","addCard","method","body","JSON","stringify","deleteCard","cardId","console","log","likeCard","dislikeCard","changeLikeCardStatus","editProfileUserInfo","updateUserImage","this","_headers","BASE_URL","FAILURE","document","querySelector","App","setIsSuccessful","setMessage","setIsLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","setSelectedCard","setCards","setCurrentUser","userEmail","setUserEmail","localStorage","getItem","setToken","history","useHistory","tokenCheck","data","auth","push","catch","err","error","closeAllPopups","all","userData","cardData","closeByEscape","key","addEventListener","removeEventListener","Provider","path","Accept","finally","setItem","status","exact","removeItem","newCard","state","c","filter","user","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e8e7ec97.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header({ text, link, ...props }) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n      {(() => {\n        if (props.isLoggedIn) {\n          return (\n            <div className=\"header__status\">\n              <div className=\"header__email\">{props.email}</div>\n              <Link\n                to={link}\n                className=\"header__link header__link-logout\"\n                onClick={props.onSignOut}\n              >\n                {text}\n              </Link>\n            </div>\n          );\n        } else {\n          return (\n            <Link to={link} className=\"header__link\">\n              {text}\n            </Link>\n          );\n        }\n      })()}\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nfunction Login({ onLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onLogin({ email, password });\n  };\n\n  const handleEmail = (event) => setEmail(event.target.value);\n  const handlePassword = (event) => setPassword(event.target.value);\n\n  React.useEffect(() => {\n    setEmail(\"\");\n    setPassword(\"\");\n  }, []);\n\n  return (\n    <div className=\"auth\">\n      <h2 className=\"auth__title\">{\"Log in\"}</h2>\n      <form className=\"form auth__form\" onSubmit={handleSubmit}>\n        <input\n          className=\"form__input auth__input\"\n          name=\"email\"\n          value={email || \"\"}\n          type=\"email\"\n          onChange={handleEmail}\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          className=\"form__input auth__input\"\n          name=\"password\"\n          value={password || \"\"}\n          type=\"password\"\n          onChange={handlePassword}\n          placeholder=\"Password\"\n          required\n        />\n        <button className=\"form__button auth__button\">{\"Log in\"}</button>\n      </form>\n\n      <div className=\"auth__text\">\n        {\"Not a member yet? \"}\n        <Link to=\"/signup\" className=\"auth__link\">\n          {\"Sign up here!\"}\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Login);\n","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nfunction Register({ onSignUp }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSignUp({ email, password });\n  };\n\n  const handleEmail = (event) => setEmail(event.target.value);\n  const handlePassword = (event) => setPassword(event.target.value);\n\n  React.useEffect(() => {\n    setEmail(\"\");\n    setPassword(\"\");\n  }, []);\n\n  return (\n    <div className=\"auth\">\n      <h2 className=\"auth__title\">{\"Sign up\"}</h2>\n      <form className=\"form auth__form\" onSubmit={handleSubmit}>\n        <input\n          className=\"form__input auth__input \"\n          name=\"email\"\n          value={email || \"\"}\n          type=\"email\"\n          onChange={handleEmail}\n          placeholder=\"Email\"\n          required\n        />\n\n        <input\n          className=\"form__input auth__input\"\n          name=\"password\"\n          value={password || \"\"}\n          type=\"password\"\n          onChange={handlePassword}\n          placeholder=\"Password\"\n          required\n        />\n        <button className=\"form__button auth__button\">{\"Sign up\"}</button>\n      </form>\n\n      <div className=\"register__signin\">\n        {\"Already a member?  \"}\n        <Link to=\"/signin\" className=\"auth__link\">\n          {\"Log in here\"}\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Register);\n","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","import React from \"react\";\nimport failure from \"../images/logos/status/error.svg\";\nimport success from \"../images/logos/status/ok.svg\";\n\nfunction InfoTooltip({ isOpen, onClose, isSuccessful, message, children }) {\n  // console.log(\"popup with\",{children});\n\n  const popupClassName = `popup info-tooltip ${isOpen ? \"popup_open\" : \"\"}`;\n\n  const srcStatus = isSuccessful ? success : failure;\n  // console.log(srcStatus);\n  return (\n    <div className={popupClassName}>\n      <div className=\"popup__container info-tooltip__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <img\n          src={srcStatus}\n          className=\"info-tooltip__image\"\n          alt=\"Status Failure or Successful\"\n        />\n        <h3 className=\"popup__title info-tooltip__text\">{message}</h3>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n//props = exact and path\nfunction ProtectedRoute({ isLoggedIn, ...props }) {\n  return (\n    <Route>\n      {() => (isLoggedIn ? <Route {...props} /> : <Redirect to={\"/signin\"} />)}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext(); ","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  //likes [] _id name link owner: { name about avatar _id cohort }\n\n  //For delete button\n  const isOwn = card.owner._id === currentUser._id; //Checking if the current user is the owner of the current card\n\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardDeleteButtonClassName = `card__delete ${\n    isOwn ? \"card__delete_visible\" : \"card__delete_hidden\"\n  }`;\n\n  // Check if the card was liked by the current user\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  // Create a variable which you then set in `className` for the like button\n  const cardLikeButtonClassName = `card__like ${\n    isLiked ? \"card__like_active\" : \"\"\n  }`;\n\n  const handleClick = () => onCardClick(card);\n  const handleCardLike = () => onCardLike(card);\n  const handleCardDelete = () => onCardDelete(card);\n\n  return (\n    <li className=\"card\">\n      <img\n        src={card[\"link\"]}\n        alt={card[\"name\"]}\n        className=\"card__image\"\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        aria-label=\"Delete\"\n        className={cardDeleteButtonClassName}\n        onClick={handleCardDelete}\n      ></button>\n      <div className=\"card__row\">\n        <h2 className=\"card__title\">{card[\"name\"]}</h2>\n        <div className=\"card__like-container\">\n          <button\n            type=\"button\"\n            aria-label=\"Like\"\n            className={cardLikeButtonClassName}\n            onClick={handleCardLike}\n          ></button>\n          <span className=\"card__likes-count\">{card[\"likes\"].length}</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  onEditAvatarClick,\n  onEditProfileClick,\n  onAddPlaceClick,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      {/* Profile */}\n      <section className=\"profile\">\n        <div className=\"profile__image-container\">\n          <img\n            src={currentUser[\"avatar\"]}\n            alt={currentUser[\"name\"]}\n            className=\"profile__image\"\n          />\n\n          <button\n            className=\"profile__update-image\"\n            onClick={onEditAvatarClick}\n          ></button>\n        </div>\n\n        <div className=\"profile__section-information\">\n          <div className=\"profile__row-information\">\n            <h1 className=\"profile__name\">{currentUser[\"name\"]}</h1>\n            <button\n              type=\"button\"\n              aria-label=\"Edit\"\n              className=\"profile__edit-button\"\n              onClick={onEditProfileClick}\n            ></button>\n          </div>\n          <p className=\"profile__job\"> {currentUser[\"about\"]}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Add\"\n          className=\"profile__add-button\"\n          onClick={onAddPlaceClick}\n        ></button>\n      </section>\n\n      {/* Cards__list  */}\n      <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {cards.map((card) => (\n            <Card\n              key={card[\"_id\"]}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  formName,\n  buttonSubmitTitle,\n  isOpen,\n  onClose,\n  onSubmit,\n  children,\n}) {\n  //console.log(\"popup with\",{children});\n\n  const popupClassName = `popup popup_type_${name} ${\n    isOpen ? \"popup_open\" : \"\"\n  }`;\n  \n  return (\n    <div className={popupClassName}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <h3 className=\"popup__title\">{title}</h3>\n        <form name={formName} action=\"#\" className=\"form\" onSubmit={onSubmit}>\n          {children}\n\n          <button type=\"submit\" aria-label=\"Submit\" className=\"form__button\">\n            {buttonSubmitTitle}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n \n  const currentUser = React.useContext(CurrentUserContext); //Subscription to the context\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  //const [errorMessage, setErrorMessage] = React.useState(\"\");\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleChangeName = (e) => setName(e.target.value);\n  const handleChangeDescription = (e) => setDescription(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault(); //Prevent the browser from navigating to the form address\n\n    //Pass the values of the managed components to the external handler\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      formName=\"profile\"\n      buttonSubmitTitle=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        id=\"name-input\"\n        className=\"form__input form__input_type_name\"\n        placeholder=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name || \"\"} //It's give me Error on the console of undefined\n        onChange={handleChangeName}\n      />\n      <span id=\"name-input-error\"></span>\n\n      <input\n        type=\"text\"\n        name=\"job\"\n        id=\"job-input\"\n        className=\"form__input form__input_type_job\"\n        placeholder=\"job\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description || \"\"} //It's give me Error on the console of undefined\n        onChange={handleChangeDescription}\n      />\n      <span id=\"job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef(\"\"); //Assigning the object returned by a hook to a variable\n\n  React.useEffect(() => {\n    avatarRef.current.value = \"\";\n  }, [isOpen]); //When isOpen reset name and avatar (i did want to prevent this but i not sure how to reset)\n\n  const handleSubmit = (e) => {\n    e.preventDefault(); //Prevent the browser from navigating to the form address\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  return (\n    <div>\n      <PopupWithForm\n        name=\"update-image-profile\"\n        title=\"Change profile picture\"\n        formName=\"profile-img\"\n        buttonSubmitTitle=\"Save\"\n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"url\"\n          name=\"avatar\"\n          id=\"avatar-input\"\n          className=\"form__input form__input_type_avatar\"\n          placeholder=\"avatar\"\n          required\n          ref={avatarRef}\n        />\n        <span id=\"avatar-input-error\"></span>\n      </PopupWithForm>\n    </div>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlaceSubmit }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [isOpen]); //When isOpen reset name and link\n\n  \n  const handleAddName = (e) => setName(e.target.value);\n  const handleAddLink = (e) => setLink(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault(); //Prevent the browser from navigating to the form address\n\n    onAddPlaceSubmit({\n      //Pass the values of the managed components to the external handler\n      name,\n      link,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"New Place\"\n      formName=\"new\"\n      buttonSubmitTitle=\"Create\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"card-title\"\n        id=\"card-title-input\"\n        className=\"form__input form__input_type_card-title\"\n        placeholder=\"Title\"\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n        value={name || \"\"}\n        onChange={handleAddName}\n      />\n      <span id=\"card-title-input-error\"></span>\n      <input\n        type=\"url\"\n        name=\"card-link\"\n        id=\"card-link-input\"\n        className=\"form__input form__input_type_card-link\"\n        placeholder=\"Image link\"\n        required\n        value={link || \"\"}\n        onChange={handleAddLink}\n      />\n      <span id=\"card-link-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  //console.log(\"image\", props);\n  return (\n    <div\n      className={\n        props.isOpen\n          ? `popup popup_type_${props.name} popup_open`\n          : `popup popup_type_${props.name}`\n      }\n    >\n      <div className=\"popup__container popup__figure-container\">\n        <button\n          type=\"button\"\n          aria-label=\"Close image\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            alt=\"default\"\n            src={props.selectedCard[\"link\"]}\n            className=\"popup__image\"\n          />\n          <figcaption\n            className=\"popup__caption\"\n            aria-label={props.selectedCard[\"name\"]}\n          >\n            {props.selectedCard[\"name\"]}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\n function Footer() {\n   return (\n      <footer className=\"footer\">\n        <p className=\"footer__text\">2021 Around The U.S.</p>\n      </footer>\n   );\n }\n   \n export default Footer;","export const handleResponse = (res) =>\n  res.ok ? res.json() : Promise.reject(`${res.statusText}`);\n\nexport const customFetch = (url, headers) =>\n  fetch(url, headers).then(handleResponse);\n","import { customFetch } from \"./utils.js\";\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    // constructor body\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  // Loading User Information from the Server\n  getUserInfo = (token) => {\n    return customFetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n  };\n\n  // Loading Cards from the Server\n  getInitialCards = (token) => {\n    return customFetch(`${this._baseUrl}/cards`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n  };\n\n  // Adding a New Card\n  addCard = ({ name, link }, token) => {\n    return customFetch(`${this._baseUrl}/cards`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    });\n  };\n\n  // Deleting a Card\n  deleteCard = (cardId, token) => {\n    console.log(\"api\", cardId);\n    return customFetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"DELETE\",\n    });\n  };\n\n  // Adding  Likes\n  likeCard = (cardId, token) => {\n    return customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"PUT\",\n    });\n  };\n\n  // Removing Likes\n  dislikeCard = (cardId, token) => {\n    return customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"DELETE\",\n    });\n  };\n\n  changeLikeCardStatus = (cardId, isLiked, token) => {\n    return customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n    });\n  };\n\n  // Editing the Profile\n  editProfileUserInfo = ({ name, about }, token) => {\n    return customFetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    });\n  };\n\n  // Updating Profile Picture\n  updateUserImage = (avatar, token) => {\n    return customFetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"PATCH\",\n      body: JSON.stringify(avatar),\n    });\n  };\n}\n\nconst api = new Api({\n  //baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\n  baseUrl: \"http://localhost:3000\",\n  /*headers: {\n    authorization: \"9bc9c0f1-5a8a-40aa-b985-20e7b24d1389\",\n    \"Content-Type\": \"application/json\",\n  },*/\n});\n\nexport default api;\n","import { handleResponse } from \"./utils.js\";\n//const BASE_URL = \"https://register.nomoreparties.co\";\nconst BASE_URL = \"http://localhost:3000\";\n\nexport const register = ({email, password}) => {\n  console.log(\"this email\",email);\n  console.log(\"this password\",password);\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({  email, password }),\n  })\n  .then(handleResponse);\n};\n\n\nexport const login  = ({  email, password }) => {\n  console.log(` login and password ${password} this email: ${email}`);\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({  email, password }),\n  })\n  .then(handleResponse)\n  .then((data) => {\n    if (data.token) {\n      localStorage.setItem(\"jwt\",data.token);\n      return data;\n    } else {\n      return; // we need to do this to avoid ESLint errors\n    }\n  });   \n};\n\n\nexport const getContent  = (token) => {\n  console.log(\"token\", token);\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    }\n  })\n  .then(handleResponse)\n  .then((data) => data);   \n};","export const settings = {\n  // pass all the settings on call\n  formSelector: \".form\",\n  inputSelector: \".form__input\",\n  submitButtonSelector: \".form__button\",\n  inactiveButtonClass: \"form__button_inactive\",\n  inputErrorClass: \"form__input-error_active\",\n  errorClass: \"form__input_error\",\n};\n\nexport const buttonsSettings = {\n  loading: \"Saving ...\",\n  edit: \"Save\",\n  create: \"Create\",\n};\n\n//Card Template\nexport const cardTemplate = \"#card-template\";\n\n//Card List\nexport const cardListSelector = \".cards__list\";\n\n//User Profile\nexport const nameProfileUserSelector = \".profile__name\";\nexport const jobProfileUserSelector = \".profile__job\";\nexport const imageProfileUserSelector = \".profile__image\";\n\n//Popup\nexport const editProfilePopupSelector = \".popup_type_edit-profile\";\nexport const addCardPopupSelector = \".popup_type_add-card\";\nexport const deleteCardPopupSelector = \".popup_type_delete-card\";\nexport const updateUserInfoPopupSelector = \".popup_type_update-image-profile\";\n\nexport const imagePopupSelector = \".popup_type_image\";\n\n//Image popup\nexport const imageSelector = \".popup__image\";\nexport const captionSelector = \".popup__caption\";\n\n//Input\nexport const nameProfileEditInput = document.querySelector(\n  \".form__input_type_name\"\n);\nexport const jobProfileEditInput = document.querySelector(\n  \".form__input_type_job\"\n);\n\n//Open Buttons\nexport const editProfileButton = document.querySelector(\n  \".profile__edit-button\"\n);\nexport const addCardButton = document.querySelector(\".profile__add-button\");\n\nexport const updateImageProfileButton = document.querySelector(\n  \".profile__update-image\"\n);\n\n//Models\nexport const editProfileModel = document.querySelector(\n  \".popup_type_edit-profile\"\n);\nexport const addCardModel = document.querySelector(\".popup_type_add-card\");\nexport const updateImageModel = document.querySelector(\n  \".popup_type_update-image-profile\"\n);\n\nexport const SUCCESS = \"Success! You have now been registered.\";\nexport const FAILURE = \"Oops, something went wrong! Please try again.\";\n","import React from \"react\";\nimport {useState, useEffect} from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\n\nimport Header from \"./Header\";\n\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport Footer from \"./Footer\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nimport api from \"../utils/api.js\";\nimport * as auth from \"../utils/auth\";\nimport { SUCCESS, FAILURE } from \"../utils/constants.js\";\nimport \"../index.css\";\n\nfunction App() {\n  \n  const [isSuccessful, setIsSuccessful] =useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [token, setToken] = useState(localStorage.getItem('jwt'));\n  const history = useHistory();\n\n\n\n  const tokenCheck = () => {\n    console.log(\"jwt\", token);\n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          console.log(\"Res\", res);\n          if (res) {\n            console.log(\"emails\", res.data.email);\n            setUserEmail(res.data.email);\n            setIsLoggedIn(true);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          if (err === \"Bad Request\") {\n            console.error(\n              \"400 — Token not provided or provided in the wrong format\"\n            );\n          } else if (err === \"Unauthorized\") {\n            console.error(\"401 — The provided token is invalid \");\n          } else {\n            console.error(err);\n          }\n        });\n    } else {\n      setIsLoggedIn(false);\n    }\n  };\n\n  const handleSignUp = ({ email, password }) => {\n    auth\n      .register({ email, password })\n      .then((data) => {\n        console.log(data);\n        setIsSuccessful(true);\n        setMessage(SUCCESS);\n        history.push(\"/signin\");\n      })\n      .catch((err) => {\n        if (err === \"Error: Bad Request\") {\n          console.error(\"400 - one of the fields was filled in incorrectly\");\n        } else {\n          console.error(\"err\", err);\n        }\n\n        setIsSuccessful(false);\n        setMessage(FAILURE);\n      })\n      .finally(() => setIsInfoTooltipOpen(true));\n  };\n\n  const handleLogin = ({ email, password }) => {\n    auth\n      .login({ email, password })\n      .then((res) => {\n        if (res.token) {\n          /*setToken(res.token);\n          setIsLoggedIn(true);\n          console.log(\"in login\", res);\n          setIsSuccessful(true);\n          setMessage(SUCCESS);*/\n           // setEmail(email);\n        setToken(res.token);\n        setIsLoggedIn(true);\n        setIsSuccessful(true);\n        history.push('/');\n          console.log(\"login app email\", email);\n        } else {\n          setIsSuccessful(false);\n          setMessage(FAILURE);\n        }\n        console.log(\"login before token\");\n        //tokenCheck();\n      })\n      .catch((err, status) => {\n        console.log(err);\n        if (err === \"Bad Request\") {\n          console.error(\"400 - one or more of the fields were not provided\");\n        } else if (err === \"Unauthorized\") {\n          console.error(\"401 - the user with the specified email not found \");\n        } else {\n          console.error(\"err\", err);\n        }\n        setIsSuccessful(false);\n        setMessage(FAILURE);\n        setIsInfoTooltipOpen(true);\n      });\n  };\n\n  const handleSignOut = () => {\n    localStorage.removeItem(\"jwt\");\n    setIsLoggedIn(false);\n    setUserEmail(\"\");\n    history.push(\"/signin\");\n  };\n\n\n  const handleEditAvatarClick = () => setIsEditAvatarPopupOpen(true);\n  const handleEditProfileClick = () => setIsEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setIsAddPlacePopupOpen(true);\n\n  \n  const handleCardClick = (card) => {\n    setSelectedCard({\n      name: card.name,\n      link: card.link,\n    });\n    setIsImagePopupOpen(true);\n  };\n\n \n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id); \n    api \n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch(console.error);\n  };\n\n \n  const handleCardDelete = (card) => {\n    api\n      .deleteCard(card._id)\n      .then((res) => {\n        setCards(\n          (state) => state.filter((c) => c._id !== card._id) //Create array of cards that aren't delete\n        );\n      })\n      .catch(console.error);\n  };\n\n  const handleUpdateUser = (user) => {\n    api\n      .editProfileUserInfo(user)\n      .then((res) => {\n        setCurrentUser({\n          ...res,\n        });\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch(console.error);\n  };\n\n  const handleUpdateAvatar = (link) => {\n    api\n      .updateUserImage(link)\n      .then((res) => {\n        setCurrentUser({\n          ...res,\n        });\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch(console.error);\n  };\n\n  \n  const handleAddPlaceSubmit = (data) => {\n    api\n      .addCard(data)\n      .then((res) => {\n        console.log(\"add res\", res);\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch(console.error);\n  };\n\n  const closeAllPopups = () => {\n    setIsInfoTooltipOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n  };\n\n\n  useEffect(() => {\n    console.log(\"line 225\");\n    tokenCheck();\n  }, [token, history]);\n\n \n  useEffect(() => {\n    console.log(`line 231 ${token}`);\n    Promise.all([api.getUserInfo(token), api.getInitialCards(token)])\n      .then(([userData, cardData]) => {\n        setCurrentUser({ ...userData });\n        setCards([...cardData]);\n      })\n      .catch(console.error);\n  }, [token]);\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  return (\n    <div className=\"page__container\">\n      {/* embedding data from the currentUser using the  context provider  */}\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route path=\"/signup\">\n            <Header text={\"Login\"} link={\"/sigin\"} />\n            <Register onSignUp={handleSignUp} />\n          </Route>\n          <Route path=\"/signin\">\n            <Header text={\"Sign Up\"} link={\"/signup\"} />\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <ProtectedRoute isLoggedIn={isLoggedIn} exact path=\"/\">\n            <Header\n              text={\"Log out\"}\n              link={\"/\"}\n              email={userEmail}\n              isLoggedIn={isLoggedIn}\n              onSignOut={handleSignOut}\n            />\n            <Main\n              onEditAvatarClick={handleEditAvatarClick}\n              onEditProfileClick={handleEditProfileClick}\n              onAddPlaceClick={handleAddPlaceClick}\n              cards={cards}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n          </ProtectedRoute>\n          <Route>\n            {\n              isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />\n            }\n          </Route>\n        </Switch>\n\n        {isLoggedIn ? <Footer /> : \"\"}\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          isSuccessful={isSuccessful}\n          message={message}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlaceSubmit={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          name=\"delete-card\"\n          title=\"Are you sure ?\"\n          formName=\"delete\"\n          buttonSubmitTitle=\"Yes\"\n          //isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          //onSubmit={handleDeleteCard}\n        />\n\n        {/** Image Popup*/}\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          name=\"image\"\n          selectedCard={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n   \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}